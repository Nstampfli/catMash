webpackJsonp([1],{"8u/S":function(t,r){},NHnr:function(t,r,m){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=m("7+uW"),u={render:function(){var t=this.$createElement,r=this._self._c||t;return r("header",[r("span",{staticClass:"logo"},[r("router-link",{attrs:{to:"/"}},[this._v("catmash")])],1)])},staticRenderFns:[]};var l={name:"App",components:{"catmash-header":m("VU/8")({name:"Header"},u,!1,function(t){m("pLpM")},"data-v-1b34f0ef",null).exports}},i={render:function(){var t=this.$createElement,r=this._self._c||t;return r("div",{attrs:{id:"app"}},[r("catmash-header"),this._v(" "),r("router-view")],1)},staticRenderFns:[]};var o=m("VU/8")(l,i,!1,function(t){m("cgIs")},null,null).exports,a=m("/ocq"),d={render:function(){var t=this,r=t.$createElement,m=t._self._c||r;return m("main",[m("p",[t._v("404")]),t._v(" "),m("p",[t._v(t._s(this.$route.path)+" doesn't exist")])])},staticRenderFns:[]};var c,n=m("VU/8")({name:"NotFound"},d,!1,function(t){m("kd20")},"data-v-d8ccf07a",null).exports,p=m("Xxa5"),b=m.n(p),s=m("exGp"),h=m.n(s),_=m("Dd8w"),g=m.n(_),j=m("NYxO"),f=m("bOdI"),v=m.n(f),q=(m("rplX"),m("vNPR")),k=new q.schema.Entity("cats",{cats:{}},{processStrategy:function(t){return g()({},t,{url:t.url.replace(/http:\/\/\d{2}.media.tumblr.com\//,"https://media.tumblr.com/"),voteCount:0,mashupCount:0})}}),z="FETCH_CATS_REQUEST",y="FETCH_CATS_FAILURE",w="FETCH_CATS_SUCCESS",x="ADD_VOTE",C={namespaced:!0,state:{isFetching:!0,error:null,ids:[],byId:{}},getters:{getCatById:function(t){return function(r){return t.byId[r]}},getScore:function(t){return function(t,r){return Number((t/r).toFixed(4))}},getScoreById:function(t,r){return function(t){var m=r.getCatById(t);return r.getScore(m.voteCount,m.mashupCount)}}},mutations:(c={},v()(c,z,function(t){t.isFetching=!0}),v()(c,y,function(t,r){var m=r.error;t.isFetching=!1,t.error=m}),v()(c,w,function(t,r){var m=r.ids,e=r.byId;t.isFetching=!1,t.ids=m,t.byId=e}),v()(c,x,function(t,r){var m=r.winnerId,e=r.loserId;t.byId[m].voteCount++,t.byId[m].mashupCount++,t.byId[e].mashupCount++}),c),actions:{fetchCats:function(t){var r=this,e=t.commit;t.state;return h()(b.a.mark(function t(){var u,l,i;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e({type:z});try{u=m("ThKq"),l=u.images,i=Object(q.normalize)(l,[k]),e({type:w,ids:i.result,byId:i.entities.cats})}catch(t){e({type:y,error:t})}case 2:case"end":return t.stop()}},t,r)}))()}}},I={render:function(){var t=this,r=t.$createElement,m=t._self._c||r;return m("div",[t.isFetching?m("div",{staticClass:"loader"}):t.error?m("div",[t._v("\n    "+t._s(t.error.message)+"\n  ")]):m("img",{attrs:{src:t.cat.url,alt:t.cat.url},on:{click:function(r){t.$emit("vote")}}})])},staticRenderFns:[]};var F=m("VU/8")({name:"HomeCat",props:["isFetching","error","cat"]},I,!1,function(t){m("Xwth")},"data-v-11844d04",null).exports,M={name:"Home",data:function(){return{leftFloat:Math.random(),rightFloat:Math.random()}},computed:g()({},Object(j.e)("cats",["isFetching","error","ids"]),Object(j.c)("cats",["getCatById"]),{leftId:function(){var t=Math.floor(this.leftFloat*this.ids.length);return this.ids[t]},rightId:function(){var t=Math.floor(this.rightFloat*this.ids.length);return this.ids[t]}}),methods:g()({},Object(j.b)("cats",["fetchCats"]),Object(j.d)("cats",[x]),{addVote:function(t,r){this.ADD_VOTE({winnerId:t,loserId:r}),this.leftFloat=Math.random(),this.rightFloat=Math.random()}}),components:{"catmash-homecat":F},created:function(){var t=this;return h()(b.a.mark(function r(){return b.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.ids.length){r.next=3;break}return r.next=3,t.fetchCats();case 3:t.leftId===t.rightId&&(t.leftFloat=Math.random(),t.rightFloat=Math.random());case 4:case"end":return r.stop()}},r,t)}))()},beforeUpdate:function(){for(;this.leftId===this.rightId;)this.leftFloat=Math.random(),this.rightFloat=Math.random()}},T={render:function(){var t=this,r=t.$createElement,m=t._self._c||r;return m("main",[m("div",{staticClass:"half left"},[m("catmash-homecat",{attrs:{isFetching:t.isFetching,error:t.error,cat:t.getCatById(t.leftId)},on:{vote:function(r){t.addVote(t.leftId,t.rightId)}}})],1),t._v(" "),m("div",{staticClass:"half"},[m("catmash-homecat",{attrs:{isFetching:t.isFetching,error:t.error,cat:t.getCatById(t.rightId)},on:{vote:function(r){t.addVote(t.rightId,t.leftId)}}})],1),t._v(" "),m("div",{staticClass:"link-wrapper"},[m("router-link",{staticClass:"link",attrs:{to:"/topcats"}},[t._v("Top Cats")])],1)])},staticRenderFns:[]};var E=m("VU/8")(M,T,!1,function(t){m("iXmz")},"data-v-ccc43da8",null).exports,S={name:"TopCat",props:["index","cat"],computed:g()({},Object(j.c)("cats",["getScore"]))},O={render:function(){var t=this,r=t.$createElement,m=t._self._c||r;return m("div",[m("img",{attrs:{src:t.cat.url,alt:t.cat.url}}),t._v(" "),m("div",{staticClass:"score"},[t._v("\n    #"+t._s(t.index+1)+" ("+t._s(100*t.getScore(t.cat.voteCount,t.cat.mashupCount))+"%)\n  ")])])},staticRenderFns:[]};var N=m("VU/8")(S,O,!1,function(t){m("8u/S")},"data-v-4c171d68",null).exports,R={name:"TopCats",computed:g()({},Object(j.e)("cats",["isFetching","error","ids"]),Object(j.c)("cats",["getCatById","getScoreById"]),{topIds:function(){var t=this;return this.ids.filter(function(r){return t.getCatById(r).mashupCount>0}).sort(function(r,m){return t.getScoreById(m)-t.getScoreById(r)})}}),methods:g()({},Object(j.b)("cats",["fetchCats"])),components:{"catmash-topcat":N},created:function(){var t=this;return h()(b.a.mark(function r(){return b.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.ids.length){r.next=3;break}return r.next=3,t.fetchCats();case 3:case"end":return r.stop()}},r,t)}))()}},A={render:function(){var t=this,r=t.$createElement,m=t._self._c||r;return m("main",[t.isFetching?m("div",{staticClass:"loader"}):t.error?m("div",[t._v("\n    "+t._s(t.error.message)+"\n  ")]):t.topIds.length?m("ul",{staticClass:"list list-topcats"},t._l(t.topIds,function(r,e){return m("li",{key:r},[m("catmash-topcat",{attrs:{index:e,cat:t.getCatById(r)}})],1)})):m("div",[t._v("No votes yet.")])])},staticRenderFns:[]};var D=m("VU/8")(R,A,!1,function(t){m("WDcc")},"data-v-35356c94",null).exports;e.a.use(a.a);var V=new a.a({mode:"history",base:"/catmash/",routes:[{path:"*",component:n},{path:"/",name:"Home",component:E},{path:"/topcats",name:"TopCats",component:D}]});m("sax8");e.a.use(j.a);var B=new j.a.Store({modules:{cats:C},strict:!1,plugins:[]});e.a.config.productionTip=!1,new e.a({el:"#app",router:V,components:{App:o},store:B,template:"<App/>"})},ThKq:function(t,r){t.exports={images:[{url:"http://24.media.tumblr.com/tumblr_m82woaL5AD1rro1o5o1_1280.jpg",id:"MTgwODA3MA"},{url:"http://24.media.tumblr.com/tumblr_m29a9d62C81r2rj8po1_500.jpg",id:"tt"},{url:"http://25.media.tumblr.com/tumblr_m4bgd9OXmw1qioo2oo1_500.jpg",id:"bmp"},{url:"http://24.media.tumblr.com/tumblr_lzxok2e2kX1qgjltdo1_1280.jpg",id:"c8a"},{url:"http://25.media.tumblr.com/tumblr_m33r7lpy361qzi9p6o1_500.jpg",id:"3kj"},{url:"http://25.media.tumblr.com/tumblr_m2p6dxhxul1qdvz31o1_500.jpg",id:"9pu"},{url:"http://24.media.tumblr.com/tumblr_m1ku66jPWV1qze0hyo1_400.jpg",id:"aca"},{url:"http://25.media.tumblr.com/tumblr_m4pwa9EXE41r6jd7fo1_500.jpg",id:"ebk"},{url:"http://25.media.tumblr.com/tumblr_m6x62cjEz31qk4s2co1_1280.jpg",id:"MTg0MTYyOQ"},{url:"http://25.media.tumblr.com/tumblr_lyj0y5tg4L1qbwemzo1_1280.jpg",id:"6mo"},{url:"http://25.media.tumblr.com/tumblr_m44w9nI50Y1qzyqubo1_500.jpg",id:"4m5"},{url:"http://24.media.tumblr.com/tumblr_lzqv50jiCj1qzex9io1_1280.jpg",id:"5v3"},{url:"http://25.media.tumblr.com/tumblr_lrlhw46Re81r3q92to1_500.jpg",id:"52k"},{url:"http://25.media.tumblr.com/tumblr_m3u1mfIZwv1rtqthio1_500.jpg",id:"47s"},{url:"http://25.media.tumblr.com/Jjkybd3nS98hfqy8vevnj6R9_500.jpg",id:"77s"},{url:"http://25.media.tumblr.com/tumblr_m4j6icIQdF1qzex9io1_1280.jpg",id:"8g6"},{url:"http://25.media.tumblr.com/5gI3dw08Qncg15r8LBMo8NMZo1_400.jpg",id:"6cu"},{url:"http://24.media.tumblr.com/tumblr_lg1hnknXjm1qfyzelo1_1280.jpg",id:"71f"},{url:"http://25.media.tumblr.com/tumblr_kstpz9IxDK1qzefipo1_250.gif",id:"2pp"},{url:"http://25.media.tumblr.com/tumblr_m4s05iYQmN1r6jd7fo1_500.gif",id:"e6d"},{url:"http://24.media.tumblr.com/tumblr_m2gyauUXoh1qbe5pxo1_500.jpg",id:"99t"},{url:"http://24.media.tumblr.com/tumblr_ltqi8k2OcP1qiyvcfo1_250.jpg",id:"510"},{url:"http://25.media.tumblr.com/tumblr_m20iu31nBD1qz4dkmo1_500.jpg",id:"9u3"},{url:"http://24.media.tumblr.com/tumblr_m11rjz2nrk1qznh2ao1_1280.jpg",id:"1dp"},{url:"http://25.media.tumblr.com/tumblr_luvlehQz7n1qgnva2o1_500.jpg",id:"b8p"},{url:"http://25.media.tumblr.com/tumblr_m2wvwmHrX61r73wdao1_250.gif",id:"7q3"},{url:"http://24.media.tumblr.com/tumblr_m0ljiiZ08O1r7plk4o1_500.jpg",id:"8v5"},{url:"http://24.media.tumblr.com/tumblr_lw9hu39q621qdvbl3o1_1280.jpg",id:"37p"},{url:"http://29.media.tumblr.com/tumblr_m1k4ze7hja1r6b7kmo1_500.jpg",id:"2n0"},{url:"http://24.media.tumblr.com/tumblr_lnvz6gLbjS1qji0t2o1_500.jpg",id:"ckc"},{url:"http://27.media.tumblr.com/tumblr_lh6ywkF22D1qfyzelo1_1280.jpg",id:"27m"},{url:"http://25.media.tumblr.com/tumblr_m4rorb74ne1qkk65ko1_1280.jpg",id:"di6"},{url:"http://24.media.tumblr.com/tumblr_m44tfdCUcz1qzgoy8o1_1280.jpg",id:"afr"},{url:"http://24.media.tumblr.com/tumblr_luu4l5AmkP1qzxrnuo1_1280.jpg",id:"65s"},{url:"http://25.media.tumblr.com/tumblr_m1mls6SBfO1qze0hyo1_1280.jpg",id:"abs"},{url:"http://24.media.tumblr.com/tumblr_mcg6abzbmT1qejbiro1_500.jpg",id:"MjAxMTk1Mw"},{url:"http://24.media.tumblr.com/tumblr_lqhtuoG1by1qbhms5o1_500.jpg",id:"6hn"},{url:"http://25.media.tumblr.com/tumblr_m4rwuzEHVz1r6jd7fo1_1280.jpg",id:"e82"},{url:"http://25.media.tumblr.com/tumblr_lgt0zjaTik1qgnva2o1_500.png",id:"bgf"},{url:"http://25.media.tumblr.com/tumblr_lu8wwx12zx1qlyuwso1_1280.jpg",id:"93m"},{url:"http://25.media.tumblr.com/tumblr_m4vzekUu7G1r6b7kmo1_500.jpg",id:"MTY1Mjg5NQ"},{url:"http://24.media.tumblr.com/tumblr_lvfpb18iea1qi23vmo1_500.jpg",id:"3dr"},{url:"http://25.media.tumblr.com/tumblr_lx6uh8RO4r1qenqklo1_1280.jpg",id:"8o4"},{url:"http://25.media.tumblr.com/tumblr_m3g4wzlmaK1qzex9io1_500.jpg",id:"8g1"},{url:"http://24.media.tumblr.com/tumblr_m3gl5xsZGq1r73wdao1_1280.jpg",id:"3s9"},{url:"http://24.media.tumblr.com/tumblr_m4l704E3mL1qdajm7o1_500.jpg",id:"bjp"},{url:"http://25.media.tumblr.com/tumblr_lql6c16YhH1qdth8zo1_1280.jpg",id:"cgp"},{url:"http://24.media.tumblr.com/tumblr_m0umerwZ3L1qznclro1_1280.jpg",id:"1e6"},{url:"http://24.media.tumblr.com/tumblr_m3pv11WNcO1r5c1jmo1_1280.jpg",id:"3b8"},{url:"http://24.media.tumblr.com/tumblr_m1uu8abTLM1qd477zo1_500.jpg",id:"9us"},{url:"http://25.media.tumblr.com/tumblr_m4apapdhVj1r18oqso1_500.jpg",id:"MTY4NDQ5NQ"},{url:"http://25.media.tumblr.com/tumblr_m3gaff05EE1qddbvio1_500.jpg",id:"bu5"},{url:"http://24.media.tumblr.com/tumblr_m3nbobox8B1qj638ro1_1280.jpg",id:"3ic"},{url:"http://25.media.tumblr.com/tumblr_llahls2IeS1qjmniro1_250.gif",id:"8q"},{url:"http://24.media.tumblr.com/tumblr_lnvyrt5j1M1qce7tgo1_500.gif",id:"ck8"},{url:"http://30.media.tumblr.com/tumblr_m2b0ykP6Fu1qzex9io1_1280.jpg",id:"s7"},{url:"http://29.media.tumblr.com/tumblr_ly4w9oJVgE1r189uao1_500.jpg",id:"is"},{url:"http://28.media.tumblr.com/qgIb8tERiqzchkc2UFsyedLmo1_500.jpg",id:"2r3"},{url:"http://25.media.tumblr.com/tumblr_m4habeFR271qd477zo1_1280.jpg",id:"btv"},{url:"http://25.media.tumblr.com/tumblr_m20bftDngo1qejbiro1_1280.jpg",id:"e3a"},{url:"http://24.media.tumblr.com/tumblr_lehgc4thel1qecpy9o1_500.gif",id:"al8"},{url:"http://25.media.tumblr.com/tumblr_kqai1e03j91qzv5pwo1_500.jpg",id:"56s"},{url:"http://24.media.tumblr.com/tumblr_ku726anOmb1qzrlhgo1_500.png",id:"aj6"},{url:"http://25.media.tumblr.com/tumblr_m3tpx8fsXX1qhwmnpo1_400.jpg",id:"46h"},{url:"http://25.media.tumblr.com/tumblr_lhe1fu7JpG1qgnva2o1_500.png",id:"bd8"},{url:"http://24.media.tumblr.com/tumblr_m43mq45fgs1qzxrnuo1_1280.jpg",id:"45k"},{url:"http://25.media.tumblr.com/tumblr_m4mo17vXSa1r6jd7fo1_500.jpg",id:"bjc"},{url:"http://25.media.tumblr.com/tumblr_m1oyzmlqEu1rsf53jo1_1280.jpg",id:"5ts"},{url:"http://25.media.tumblr.com/tumblr_lpl0cy8o5R1qdth8zo1_1280.jpg",id:"chk"},{url:"http://24.media.tumblr.com/tumblr_lz5pu74OPk1qgjltdo1_1280.jpg",id:"ca8"},{url:"http://25.media.tumblr.com/tumblr_m7cjk9zTNM1qzex9io1_1280.jpg",id:"MTU0NzgwMA"},{url:"http://25.media.tumblr.com/tumblr_m4gtikn86b1qztc0jo1_1280.jpg",id:"ddp"},{url:"http://25.media.tumblr.com/tumblr_m2xlwaadCC1qejbiro1_1280.jpg",id:"e03"},{url:"http://24.media.tumblr.com/GxlDeM8kxl6gszkaC1RgD776o1_1280.jpg",id:"9mk"},{url:"http://25.media.tumblr.com/tumblr_m3khmzDXEo1qjc1a7o1_1280.jpg",id:"3gm"},{url:"http://25.media.tumblr.com/tumblr_lz8fwef0VA1qzv52ko1_1280.jpg",id:"6lo"},{url:"http://25.media.tumblr.com/tumblr_ma7j0aGNbB1r6jd7fo1_1280.jpg",id:"MjA2NTY1NQ"},{url:"http://25.media.tumblr.com/tumblr_m3pm45zC4v1qjahcpo1_500.jpg",id:"41c"},{url:"http://25.media.tumblr.com/tumblr_lqv93f3ZQT1qi3974o1_500.jpg",id:"54m"},{url:"http://24.media.tumblr.com/tumblr_m2lim4Wocd1qjev1to1_1280.jpg",id:"bjf"},{url:"http://25.media.tumblr.com/tumblr_m4qdjuybqb1r0wqrdo1_1280.jpg",id:"e9h"},{url:"http://25.media.tumblr.com/tumblr_m4pvakprVF1r6jd7fo1_500.jpg",id:"ec6"},{url:"http://25.media.tumblr.com/tumblr_m2g2ksSLML1qgkc80o1_400.gif",id:"4ge"},{url:"http://25.media.tumblr.com/tumblr_m3uxadNlfI1qejbiro1_1280.jpg",id:"ds4"},{url:"http://25.media.tumblr.com/tumblr_mc1lz78RNn1qjc1a7o1_1280.jpg",id:"MTcwMTgxMg"},{url:"http://24.media.tumblr.com/tumblr_lht68lybsE1qcn249o1_250.gif",id:"7ts"},{url:"http://25.media.tumblr.com/tumblr_lidvsekFL91qzabkfo1_1280.jpg",id:"d5c"},{url:"http://25.media.tumblr.com/tumblr_lpcq3447RK1qbhms5o1_500.jpg",id:"6jf"},{url:"http://25.media.tumblr.com/tumblr_mbe1tuRvoN1rxer0vo1_1280.jpg",id:"MTY4MDkyOA"},{url:"http://25.media.tumblr.com/tumblr_m47yaokX791qhwmnpo1_500.jpg",id:"8hk"},{url:"http://24.media.tumblr.com/tumblr_ll3uw0KDeM1qb8a3ro1_500.jpg",id:"5no"},{url:"http://24.media.tumblr.com/tumblr_m1nn0aPJU31qejbiro1_1280.jpg",id:"e3v"},{url:"http://28.media.tumblr.com/tumblr_ly7rtpsCSc1qgop81o1_1280.jpg",id:"dp"},{url:"http://24.media.tumblr.com/tumblr_lowyfwTewp1qbhms5o1_500.jpg",id:"6jt"},{url:"http://27.media.tumblr.com/tumblr_lwaso5dl5N1qbhms5o1_500.jpg",id:"1qj"},{url:"http://25.media.tumblr.com/tumblr_lst9zbbAGx1r4xjo2o1_1280.jpg",id:"5io"},{url:"http://25.media.tumblr.com/tumblr_m44vnvR00W1rtuomto1_1280.jpg",id:"46o"},{url:"http://24.media.tumblr.com/tumblr_kujwmnKr8k1qzpwi0o1_250.gif",id:"4lt"},{url:"http://25.media.tumblr.com/tumblr_lwip0fnA2D1qzv52ko1_1280.jpg",id:"6ps"},{url:"http://25.media.tumblr.com/tumblr_m3jbdxqnma1qa8o34o1_500.jpg",id:"a4e"}]}},WDcc:function(t,r){},Xwth:function(t,r){},cgIs:function(t,r){},iXmz:function(t,r){},kd20:function(t,r){},pLpM:function(t,r){}},["NHnr"]);
//# sourceMappingURL=app.5990fed0c1f82c8a2adc.js.map